## å¤ä¹ æœ€å¤§æ•°ç»„å’Œï¼š

1. ### è´ªå¿ƒåšæ³•ï¼š

    * #### æ€è·¯ï¼š

      > éå†çš„è¿‡ç¨‹ä¸­ä¸æ–­ç»´æŠ¤ä¸€ä¸ªåŒºé—´å’Œï¼Œå¦‚æœåŒºé—´å’Œå°äºé›¶å°±åˆ°è¾¾è¯¥åŒºé—´çš„ç»“æŸï¼Œä½¿å’Œå˜ä¸º0å³é‡æ–°ç»´æŠ¤ä¸€ä¸ªæ–°çš„åŒºé—´ï¼Œåœ¨ç»´æŠ¤çš„è¿‡ç¨‹ä¸­ä¸æ–­æ£€æŸ¥åŒºé—´å’Œçš„æœ€å¤§å€¼ï¼Œè¿™æ ·å°±å¯ä»¥å¾—åˆ°æœ€å¤§çš„é‚£ä¸ªåŒºé—´çš„åŒºé—´å’Œã€‚
      >
    * #### ä»£ç ï¼š

      ```cpp
      int maxSubArray(vector<int>& nums) {
          int add = 0, res = nums[0];
          int len = nums.size();
          for(int i = 0; i < len; i++) {
              add += nums[i];
              res = max(res, add);
              if(add < 0) add = 0;
          }
          return res;
      }
      ```
2. ### åŠ¨æ€è§„åˆ’åšæ³•ï¼š

    * #### æ€è·¯ï¼š

      > åŒæ ·æ˜¯ç»´æŠ¤ä¸€ä¸ªåŒºé—´å’Œï¼Œä½†ç»´æŠ¤çš„å½¢å¼ä¸åŒï¼ŒåŠ¨æ€è§„åˆ’è¦æ±‚æ¯”è¾ƒå½“å‰çŠ¶æ€ä¸ä¹‹å‰çŠ¶æ€å åŠ ä¸ä¸å åŠ çš„æœ€å€¼è·å¾—æœ€å¤§åŒºé—´å’Œï¼Œå³æ˜¯æ¯”è¾ƒ`nums[i] + â€œä¹‹å‰çš„åŒºé—´å’Œâ€`ä¸`nums[i]`ï¼Œå†å–æœ€å¤§å€¼ä½œä¸ºç»“æœ
      >
    * #### ä»£ç ï¼š

      ```cpp
      int maxSubArray(vector<int>& nums) {
          int tmp = nums[0];
          int res = tmp;
          for(int i = 1; i < nums.size(); i++) {
              tmp = max(nums[i], nums[i] + tmp);
              res = max(res, tmp);
          }
          return res;
      }
      ```

## å˜å¼/æ‹“å±•é¢˜ç›®ï¼š

1. ### é¢˜ç›®å¤§æ„ï¼š

    > ç»™å®šä¸€ä¸ªå¯èƒ½æœªçŸ¥éƒ¨åˆ†çš„æ•°ç»„ï¼Œå’Œä¸€ä¸ª`k`å€¼ï¼Œè¦æ±‚è¯¥æ•°ç»„çš„æœ€å¤§åŒºé—´å’Œä¸º`k`ï¼Œå¦‚æœè¡¥å……æˆ–ä¸è¡¥å……æœªçŸ¥ï¼ˆä¹Ÿå¯èƒ½æ²¡æœ‰æœªçŸ¥ï¼‰éƒ½æ— æ³•æ»¡è¶³æ¡ä»¶å°±è¾“å‡ºâ€œNOâ€ï¼Œå¯ä»¥å°±è¾“å‡ºâ€œYESâ€å’Œå·²ç»å¡«å……å¥½çš„æ•°ç»„ã€‚
    >
2. ### ä¸ºä»€ä¹ˆæ ‡ç­¾æœ‰äºŒåˆ†ï¼š

    > åœ¨æ„é€ è§£çš„è¿‡ç¨‹ä¸­å¯¹æœ€åä¸€ä¸ªæœªå¡«å……çš„æ•°è¿›è¡Œå·¦å³æ£€æŸ¥çš„è¿‡ç¨‹å³æ˜¯äºŒåˆ†çš„è¿‡ç¨‹
    >
3. ### ä»£ç å®ç°ï¼šï¼ˆæ€è·¯ï¼‰

    ```cpp
    #include <bits/stdc++.h>
    using namespace std;

    int main(){
        int t; cin >> t;
        while (t--){
            int n; 
            long long k; 
            cin >> n >> k;
            string s; cin >> s;
            vector <long long> a(n);
            for (auto &x : a) cin >> x;
            
            int pos = -1;//è®°å½•ä¸€ä¸ªæœªçŸ¥æ•°çš„ä½ç½®ï¼Œä¹‹åæŠŠè¿™ä¸ªæœªçŸ¥æ•°æ„é€ æˆç‰¹è§£å°±è¡Œäº†
            for (int i = 0; i < n; i++){
                if (s[i] == '0'){
                    pos = i;
                    a[i] = -1e13;//å°†æœªçŸ¥æ•°ç›´æ¥æ ‡è®°ä¸º-INF
                }
            }
            
            //åŠ¨è§„å¯»æ‰¾æœ€å¤§å­æ•°ç»„å’Œï¼ˆmxï¼‰
            long long mx = 0;
            long long curr = 0;
            for (int i = 0; i < n; i++){
                curr = max(curr + a[i], a[i]);
                mx = max(mx, curr);
            }

            /*
            ï¼ä¸å¯èƒ½å­˜åœ¨ç­”æ¡ˆçš„æ¡ä»¶ï¼šâ€œNOâ€
            1.å·²æœ‰çš„æœ€å¤§å­æ•°ç»„å’Œå·²ç»è¶…è¿‡äº†k
            2.å·²æœ‰çš„æœ€å¤§å­æ•°ç»„å’Œä¸ç­‰äºkå¹¶ä¸”å·²ç»æ— æ³•è¿›è¡Œè¡¥å……
            ï¼å‰©ä½™çš„æƒ…å†µï¼š
            1.mx < k ä¸”å¯ä»¥è¿›è¡Œè¡¥å……ï¼›
            2.mx = k ä¸”å¯ä»¥è¿›è¡Œè¡¥å……ï¼›
            3.mx = k ä¸å¯ä»¥è¿›è¡Œè¡¥å……ï¼ˆpos == -1ï¼‰ï¼Œè¿™ç§ä¸éœ€è¦è¿›è¡Œå¤„ç†ï¼Œç›´æ¥è¾“å‡ºå°±å¯ä»¥äº†
            */
            if (mx > k || (mx != k && pos == -1)){
                cout << "No\n";
                continue;
            }

            /*
            å¯¹äºéœ€è¦å¡«å……æ•°å­—çš„æƒ…å†µé‡æ–°è¿›è¡Œå¤„ç†ï¼Œæ€è€ƒè¿™é‡Œæ˜¯ä¸æ˜¯åªå¤„ç†äº†æœ€åä¸€ä¸ªæœªçŸ¥æ•°ï¼Ÿ
            åæ˜ å‡ºäº†ä¸€ç§æ„é€ çš„æ€æƒ³(æ„é€ ä¸€ä¸ªç‰¹è§£ï¼‰ï¼Œè¿™é‡Œå¡«å……çš„æ•°å­—çš„ä¸Šé™ï¼ˆ1e18ï¼‰æ¯”kä¸Šçº¿ï¼ˆ1e12ï¼‰å¤§çš„å¤šï¼Œ
            ç”šè‡³å¯ä»¥å¡«å……çš„æ•°è‡ªå·±æ¥æ„æˆè¿™ä¸ªæœ€å¤§å­æ•°ç»„å’Œï¼Œæ¯•ç«Ÿä¹‹å‰å·²ç»æ£€æŸ¥å‡ºæ¥å…¶ä»–æœ€å¤§å­æ•°ç»„å’Œä¸èƒ½è¶…è¿‡käº†
            å› æ­¤å…¶ä»–çš„å¡«å……å€¼å°±ä¸ç”¨ç®¡äº†ï¼Œè¿™å°±æ˜¯æ„é€ ï¼Œå°å­ï¼
            */
            if (pos != -1){
                mx = 0, curr = 0;//è¿™é‡Œåˆå§‹åŒ–ä¸º0æ˜¯å› ä¸ºå¯ä»¥æ²¡æœ‰ï¼Œå°±æ˜¯ç©ºç´¢å¼•ï¼Œç±»ä¼¼æ²¡æœ‰ä½ æˆ‘ä¼šæ´»å¾—æ›´å¥½ğŸ˜‚ï¼Œæ‰€ä»¥å°±ä¸ç”¨è€ƒè™‘äº†
                long long L, R;

                //æ£€æŸ¥å³ä¾§åŒºé—´mx
                for (int i = pos + 1; i < n; i++){
                    curr += a[i];
                    mx = max(mx, curr);
                }
                L = mx;

                mx = 0;
                curr = 0;

                //æ£€æŸ¥å·¦ä¾§åŒºé—´mx
                for (int i = pos - 1; i >= 0; i--){
                    curr += a[i];
                    mx = max(mx, curr);
                }
                R = mx;
                
                a[pos] = k - L - R;
            }
            
            cout << "Yes\n";
            for (int i = 0; i < n; i++){
                cout << a[i] << " \n"[i + 1 == n];
            }
        }
        return 0;
    }
    ```